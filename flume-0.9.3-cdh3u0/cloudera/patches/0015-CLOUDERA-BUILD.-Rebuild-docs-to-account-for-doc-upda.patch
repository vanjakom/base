From defe58ddefc43703273251e63bd35f5f10f4f4a5 Mon Sep 17 00:00:00 2001
From: Jonathan Hsieh <jon@cloudera.com>
Date: Fri, 11 Mar 2011 19:46:14 -0800
Subject: [PATCH 15/18] CLOUDERA-BUILD. Rebuild docs to account for doc update patches

---
 docs/UserGuide/index.html |   44 ++++++++++++++++++++++++++++++--------------
 docs/Windows/index.html   |    2 +-
 2 files changed, 31 insertions(+), 15 deletions(-)

diff --git a/docs/UserGuide/index.html b/docs/UserGuide/index.html
index 103139a..91718c4 100644
--- a/docs/UserGuide/index.html
+++ b/docs/UserGuide/index.html
@@ -1,4 +1,4 @@
-<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Flume User Guide</title><link rel="stylesheet" href="docbook.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"></head><body><div style="clear:both; margin-bottom: 4px"></div><div align="center"><a href="index.html"><img src="images/home.png" alt="Documentation Home"></a></div><span class="breadcrumbs"><div class="breadcrumbs"><span class="breadcrumb-node">Flume User Guide</span></div></span><div lang="en" class="article" title="Flume User Guide"><div class="titlepage"><div><div><h2 class="title"><a name="id305604"></a>Flume User Guide</h2></div><div><div class="author"><h3 class="author"><span class="firstname">flume-dev@cloudera.org</span></h3></div></div><div><div class="revhistory"><table border="1" width="100%" summary="Revision history"><tr><th align="left" valign="top" colspan="3"><b>Revision History</b></th></tr><tr><td align="left">Revision 0.9.3</td><td align="left">February 4 2011</td><td align="left">F</td></tr></table></div></div></div><hr></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="#Introduction">1. Introduction</a></span></dt><dd><dl><dt><span class="section"><a href="#_architecture">1.1. Architecture</a></span></dt><dt><span class="section"><a href="#_reliability">1.2. Reliability</a></span></dt><dt><span class="section"><a href="#_scalability">1.3. Scalability</a></span></dt><dt><span class="section"><a href="#_manageability">1.4. Manageability</a></span></dt><dt><span class="section"><a href="#_extensibility">1.5. Extensibility</a></span></dt><dt><span class="section"><a href="#_section_summary">1.6. Section summary</a></span></dt></dl></dd><dt><span class="section"><a href="#Quickstart">2. Flume Single Node Quick Start</a></span></dt><dd><dl><dt><span class="section"><a href="#_sources_and_the_literal_dump_literal_command">2.1. Sources and the <code class="literal">dump</code> command</a></span></dt><dd><dl><dt><span class="section"><a href="#_reading_from_a_text_file_literal_text_literal">2.1.1. Reading from a text file, <code class="literal">text</code></a></span></dt><dt><span class="section"><a href="#_tailing_a_file_name_literal_tail_literal_and_literal_multitail_literal">2.1.2. Tailing a file name, <code class="literal">tail</code> and <code class="literal">multitail</code></a></span></dt><dt><span class="section"><a href="#_synthetic_sources_literal_synth_literal">2.1.3. Synthetic sources, <code class="literal">synth</code></a></span></dt><dt><span class="section"><a href="#_syslog_as_a_source_literal_syslogudp_literal_and_literal_syslogtcp_literal">2.1.4. Syslog as a source, <code class="literal">syslogUdp</code> and <code class="literal">syslogTcp</code></a></span></dt></dl></dd><dt><span class="section"><a href="#_anatomy_of_an_event">2.2. Anatomy of an Event</a></span></dt><dt><span class="section"><a href="#_section_summary_2">2.3. Section Summary</a></span></dt></dl></dd><dt><span class="section"><a href="#_pseudo_distributed_mode">3. Pseudo-distributed Mode</a></span></dt><dd><dl><dt><span class="section"><a href="#_starting_pseudo_distributed_flume_daemons">3.1. Starting Pseudo-distributed Flume Daemons</a></span></dt><dd><dl><dt><span class="section"><a href="#_the_master">3.1.1. The Master</a></span></dt><dt><span class="section"><a href="#_the_flume_node">3.1.2. The Flume Node</a></span></dt></dl></dd><dt><span class="section"><a href="#_configuring_a_node_via_the_master">3.2. Configuring a Node via the Master</a></span></dt><dt><span class="section"><a href="#_introducing_sinks">3.3. Introducing Sinks</a></span></dt><dt><span class="section"><a href="#_aggregated_configurations">3.4. Aggregated Configurations</a></span></dt><dt><span class="section"><a href="#_tiering_flume_nodes_agents_and_collectors">3.5. Tiering Flume Nodes: Agents and Collectors</a></span></dt><dt><span class="section"><a href="#_section_summary_3">3.6. Section Summary</a></span></dt></dl></dd><dt><span class="section"><a href="#_fully_distributed_mode">4. Fully-distributed Mode</a></span></dt><dd><dl><dt><span class="section"><a href="#_static_configuration_files">4.1. Static Configuration Files</a></span></dt><dd><dl><dt><span class="section"><a href="#_using_default_values">4.1.1. Using Default Values</a></span></dt></dl></dd><dt><span class="section"><a href="#_multiple_collectors">4.2. Multiple Collectors</a></span></dt><dd><dl><dt><span class="section"><a href="#_partitioning_agents_across_multiple_collectors">4.2.1. Partitioning Agents across Multiple Collectors</a></span></dt><dt><span class="section"><a href="#_manually_specifying_failover_chains">4.2.2. Manually Specifying Failover Chains</a></span></dt><dt><span class="section"><a href="#_automatic_failover_chains">4.2.3. Automatic Failover Chains</a></span></dt></dl></dd><dt><span class="section"><a href="#_logical_configurations">4.3. Logical Configurations</a></span></dt><dd><dl><dt><span class="section"><a href="#_logical_nodes">4.3.1. Logical Nodes</a></span></dt><dt><span class="section"><a href="#_logical_sources_and_logical_sinks">4.3.2. Logical Sources and Logical Sinks</a></span></dt><dt><span class="section"><a href="#_flow_isolation">4.3.3. Flow Isolation</a></span></dt><dt><span class="section"><a href="#_section_summary_4">4.3.4. Section Summary</a></span></dt></dl></dd><dt><span class="section"><a href="#_multiple_masters">4.4. Multiple Masters</a></span></dt><dd><dl><dt><span class="section"><a href="#_standalone_mode_compared_to_distributed_mode">4.4.1. Standalone Mode Compared to Distributed Mode</a></span></dt><dt><span class="section"><a href="#_running_in_standalone_mode">4.4.2. Running in Standalone Mode</a></span></dt><dt><span class="section"><a href="#_running_in_distributed_mode">4.4.3. Running in Distributed Mode</a></span></dt><dt><span class="section"><a href="#_configuration_stores">4.4.4. Configuration Stores</a></span></dt><dt><span class="section"><a href="#_which_configuration_store_should_i_use">4.4.5. Which Configuration Store Should I Use?</a></span></dt><dt><span class="section"><a href="#_configuring_the_zbcs">4.4.6. Configuring the ZBCS</a></span></dt><dt><span class="section"><a href="#_gossip_in_distributed_mode">4.4.7. Gossip in Distributed Mode</a></span></dt><dt><span class="section"><a href="#_diagrams_how_the_masters_and_nodes_talk_to_each_other">4.4.8. Diagrams: How the Masters and Nodes talk to each other</a></span></dt><dt><span class="section"><a href="#_configuring_flume_nodes_to_connect_to_multiple_master_servers">4.4.9. Configuring Flume Nodes to Connect to Multiple Master Servers</a></span></dt></dl></dd><dt><span class="section"><a href="#_external_zookeeper_cluster">4.5. External ZooKeeper Cluster</a></span></dt><dt><span class="section"><a href="#_section_summary_5">4.6. Section Summary</a></span></dt></dl></dd><dt><span class="section"><a href="#_integrating_flume_with_your_data_sources">5. Integrating Flume with your Data Sources</a></span></dt><dd><dl><dt><span class="section"><a href="#_push_sources">5.1. Push Sources</a></span></dt><dt><span class="section"><a href="#_polling_sources">5.2. Polling Sources</a></span></dt><dt><span class="section"><a href="#_embedding_sources">5.3. Embedding Sources</a></span></dt><dt><span class="section"><a href="#_logging_via_log4j_directly">5.4. Logging via log4j Directly</a></span></dt><dd><dl><dt><span class="section"><a href="#_example_of_logging_hadoop_jobs">5.4.1. Example of Logging Hadoop Jobs</a></span></dt><dt><span class="section"><a href="#_logging_hadoop_daemons">5.4.2. Logging Hadoop Daemons</a></span></dt></dl></dd></dl></dd><dt><span class="section"><a href="#_using_data_collected_by_flume">6. Using Data Collected by Flume</a></span></dt><dd><dl><dt><span class="section"><a href="#_the_data_model_of_a_flume_event">6.1. The Data Model of a Flume Event</a></span></dt><dt><span class="section"><a href="#_output_bucketing">6.2. Output Bucketing</a></span></dt><dt><span class="section"><a href="#_output_format">6.3. Output Format</a></span></dt><dt><span class="section"><a href="#_small_files_compared_to_high_latency">6.4. Small Files Compared to High Latency</a></span></dt></dl></dd><dt><span class="section"><a href="#_compression_for_files_written_to_hdfs">7. Compression for files written to HDFS.</a></span></dt><dt><span class="section"><a href="#_advanced_flume_usage">8. Advanced Flume Usage</a></span></dt><dd><dl><dt><span class="section"><a href="#_the_flume_command_shell">8.1. The Flume Command Shell</a></span></dt><dd><dl><dt><span class="section"><a href="#_using_the_flume_command_shell">8.1.1. Using the Flume Command Shell</a></span></dt></dl></dd><dt><span class="section"><a href="#_flume_8217_s_dataflow_specification_language">8.2. Flume&#8217;s Dataflow Specification Language</a></span></dt><dd><dl><dt><span class="section"><a href="#_special_sinks_fan_out_fail_over_and_roll">8.2.1. Special Sinks: Fan out, Fail over, and Roll</a></span></dt><dt><span class="section"><a href="#_introducing_sink_decorators">8.2.2. Introducing Sink Decorators</a></span></dt><dt><span class="section"><a href="#_translations_of_high_level_sources_and_sinks">8.2.3. Translations of High-level Sources and Sinks</a></span></dt></dl></dd><dt><span class="section"><a href="#_custom_metadata_extraction">8.3. Custom Metadata Extraction</a></span></dt><dd><dl><dt><span class="section"><a href="#_extractors">8.3.1. Extractors</a></span></dt><dt><span class="section"><a href="#_meta_data_filtering_and_transformations">8.3.2. Meta Data Filtering and Transformations</a></span></dt><dt><span class="section"><a href="#_role_defaults">8.3.3. Role Defaults</a></span></dt><dt><span class="section"><a href="#_arbitrary_data_flows_and_custom_architectures">8.3.4. Arbitrary Data Flows and Custom Architectures</a></span></dt></dl></dd><dt><span class="section"><a href="#_extending_via_sink_source_decorator_plugins">8.4. Extending via Sink/Source/Decorator Plugins</a></span></dt><dd><dl><dt><span class="section"><a href="#_semantics_of_flume_extensions">8.4.1. Semantics of Flume Extensions</a></span></dt><dd><dl><dt><span class="section"><a href="#_simple_source_semantics">8.4.1.1. Simple source semantics.</a></span></dt><dt><span class="section"><a href="#_buffered_source_semantics">8.4.1.2. Buffered source semantics</a></span></dt><dt><span class="section"><a href="#_simple_sinks">8.4.1.3. Simple Sinks.</a></span></dt><dt><span class="section"><a href="#_buffered_sink_and_decorator_semantics">8.4.1.4. Buffered sink and decorator semantics</a></span></dt><dt><span class="section"><a href="#_retries_sleeps_and_unclean_exits">8.4.1.5. Retries, sleeps, and unclean exits.</a></span></dt></dl></dd></dl></dd><dt><span class="section"><a href="#_limiting_data_transfer_rate_between_source_sink_pairs">8.5. Limiting Data Transfer Rate between Source-Sink pairs</a></span></dt></dl></dd><dt><span class="section"><a href="#_flume_and_hdfs_security_integration">9. Flume and HDFS Security Integration</a></span></dt><dd><dl><dt><span class="section"><a href="#_basics">9.1. Basics</a></span></dt><dt><span class="section"><a href="#_setting_up_flume_users_on_kerberos">9.2. Setting up Flume users on Kerberos</a></span></dt><dd><dl><dt><span class="section"><a href="#_administering_kerberos_principals">9.2.1. Administering Kerberos principals</a></span></dt></dl></dd></dl></dd><dt><span class="section"><a href="#_appendix">10. Appendix</a></span></dt><dd><dl><dt><span class="section"><a href="#_flume_source_catalog">10.1. Flume Source Catalog</a></span></dt><dt><span class="section"><a href="#_flume_sinks_catalog">10.2. Flume Sinks Catalog</a></span></dt><dt><span class="section"><a href="#_flume_sink_decorator_catalog">10.3. Flume Sink Decorator Catalog</a></span></dt><dt><span class="section"><a href="#_flume_environment_variables">10.4. Flume Environment Variables</a></span></dt><dt><span class="section"><a href="#_flume_site_xml_configuration_settings">10.5. flume-site.xml configuration settings</a></span></dt><dt><span class="section"><a href="#_troubleshooting">10.6. Troubleshooting</a></span></dt><dd><dl><dt><span class="section"><a href="#_what_are_the_default_ports">10.6.1. What are the default ports?</a></span></dt><dt><span class="section"><a href="#_what_versions_of_hadoop_hdfs_can_i_use_how_do_i_change_this">10.6.2. What versions of Hadoop HDFS can I use?  How do I change this?</a></span></dt><dt><span class="section"><a href="#_why_doesn_8217_t_a_flume_node_appear_on_flume_master">10.6.3. Why doesn&#8217;t a Flume node appear on Flume Master?</a></span></dt><dt><span class="section"><a href="#_why_is_the_state_of_a_flume_node_changing_rapidly">10.6.4. Why is the state of a Flume node changing rapidly?</a></span></dt><dt><span class="section"><a href="#_where_are_the_logs_for_troubleshooting_flume_itself">10.6.5. Where are the logs for troubleshooting Flume itself?</a></span></dt><dt><span class="section"><a href="#_what_can_i_do_if_i_get_node_failure_due_to_out_of_file_handles">10.6.6. What can I do if I get node failure due to out of file handles?</a></span></dt><dt><span class="section"><a href="#_failures_due_when_using_disk_failover_or_write_ahead_log">10.6.7. Failures due when using Disk Failover or Write Ahead Log</a></span></dt><dt><span class="section"><a href="#_can_i_write_data_to_amazon_s3">10.6.8. Can I write data to Amazon S3?</a></span></dt></dl></dd></dl></dd><dt><span class="glossary"><a href="#_glossary">Glossary</a></span></dt><dt><span class="section"><a href="#_versions">11. Versions</a></span></dt><dd><dl><dt><span class="section"><a href="#_history">11.1. History</a></span></dt></dl></dd></dl></div><div class="list-of-figures"><p><b>List of Figures</b></p><dl><dt>1. <a href="#id354556">Flume Flows: Single Flow</a></dt><dt>2. <a href="#id354645">Flume Flows: Multiple Flows</a></dt><dt>3. <a href="#id355489">Flume Master: Standalone Mode</a></dt><dt>4. <a href="#id355511">Flume Master: Distributed Mode</a></dt></dl></div><div class="abstract" title="Abstract"><a name="_abstract"></a><p class="title"><b>Abstract</b></p><div class="abstract" title="Abstract"><p class="title"><b>Abstract</b></p><p>Flume is a distributed, reliable, and available service for
+<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Flume User Guide</title><link rel="stylesheet" href="docbook.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"></head><body><div style="clear:both; margin-bottom: 4px"></div><div align="center"><a href="index.html"><img src="images/home.png" alt="Documentation Home"></a></div><span class="breadcrumbs"><div class="breadcrumbs"><span class="breadcrumb-node">Flume User Guide</span></div></span><div lang="en" class="article" title="Flume User Guide"><div class="titlepage"><div><div><h2 class="title"><a name="id530051"></a>Flume User Guide</h2></div><div><div class="author"><h3 class="author"><span class="firstname">flume-dev@cloudera.org</span></h3></div></div><div><div class="revhistory"><table border="1" width="100%" summary="Revision history"><tr><th align="left" valign="top" colspan="3"><b>Revision History</b></th></tr><tr><td align="left">Revision 0.9.3</td><td align="left">March 11 2011</td><td align="left">F</td></tr></table></div></div></div><hr></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="#Introduction">1. Introduction</a></span></dt><dd><dl><dt><span class="section"><a href="#_architecture">1.1. Architecture</a></span></dt><dt><span class="section"><a href="#_reliability">1.2. Reliability</a></span></dt><dt><span class="section"><a href="#_scalability">1.3. Scalability</a></span></dt><dt><span class="section"><a href="#_manageability">1.4. Manageability</a></span></dt><dt><span class="section"><a href="#_extensibility">1.5. Extensibility</a></span></dt><dt><span class="section"><a href="#_section_summary">1.6. Section summary</a></span></dt></dl></dd><dt><span class="section"><a href="#Quickstart">2. Flume Single Node Quick Start</a></span></dt><dd><dl><dt><span class="section"><a href="#_sources_and_the_literal_dump_literal_command">2.1. Sources and the <code class="literal">dump</code> command</a></span></dt><dd><dl><dt><span class="section"><a href="#_reading_from_a_text_file_literal_text_literal">2.1.1. Reading from a text file, <code class="literal">text</code></a></span></dt><dt><span class="section"><a href="#_tailing_a_file_name_literal_tail_literal_and_literal_multitail_literal">2.1.2. Tailing a file name, <code class="literal">tail</code> and <code class="literal">multitail</code></a></span></dt><dt><span class="section"><a href="#_synthetic_sources_literal_synth_literal">2.1.3. Synthetic sources, <code class="literal">synth</code></a></span></dt><dt><span class="section"><a href="#_syslog_as_a_source_literal_syslogudp_literal_and_literal_syslogtcp_literal">2.1.4. Syslog as a source, <code class="literal">syslogUdp</code> and <code class="literal">syslogTcp</code></a></span></dt></dl></dd><dt><span class="section"><a href="#_anatomy_of_an_event">2.2. Anatomy of an Event</a></span></dt><dt><span class="section"><a href="#_section_summary_2">2.3. Section Summary</a></span></dt></dl></dd><dt><span class="section"><a href="#_pseudo_distributed_mode">3. Pseudo-distributed Mode</a></span></dt><dd><dl><dt><span class="section"><a href="#_starting_pseudo_distributed_flume_daemons">3.1. Starting Pseudo-distributed Flume Daemons</a></span></dt><dd><dl><dt><span class="section"><a href="#_the_master">3.1.1. The Master</a></span></dt><dt><span class="section"><a href="#_the_flume_node">3.1.2. The Flume Node</a></span></dt></dl></dd><dt><span class="section"><a href="#_configuring_a_node_via_the_master">3.2. Configuring a Node via the Master</a></span></dt><dt><span class="section"><a href="#_introducing_sinks">3.3. Introducing Sinks</a></span></dt><dt><span class="section"><a href="#_aggregated_configurations">3.4. Aggregated Configurations</a></span></dt><dt><span class="section"><a href="#_tiering_flume_nodes_agents_and_collectors">3.5. Tiering Flume Nodes: Agents and Collectors</a></span></dt><dt><span class="section"><a href="#_section_summary_3">3.6. Section Summary</a></span></dt></dl></dd><dt><span class="section"><a href="#_fully_distributed_mode">4. Fully-distributed Mode</a></span></dt><dd><dl><dt><span class="section"><a href="#_static_configuration_files">4.1. Static Configuration Files</a></span></dt><dd><dl><dt><span class="section"><a href="#_using_default_values">4.1.1. Using Default Values</a></span></dt></dl></dd><dt><span class="section"><a href="#_multiple_collectors">4.2. Multiple Collectors</a></span></dt><dd><dl><dt><span class="section"><a href="#_partitioning_agents_across_multiple_collectors">4.2.1. Partitioning Agents across Multiple Collectors</a></span></dt><dt><span class="section"><a href="#_manually_specifying_failover_chains">4.2.2. Manually Specifying Failover Chains</a></span></dt><dt><span class="section"><a href="#_automatic_failover_chains">4.2.3. Automatic Failover Chains</a></span></dt></dl></dd><dt><span class="section"><a href="#_logical_configurations">4.3. Logical Configurations</a></span></dt><dd><dl><dt><span class="section"><a href="#_logical_nodes">4.3.1. Logical Nodes</a></span></dt><dt><span class="section"><a href="#_logical_sources_and_logical_sinks">4.3.2. Logical Sources and Logical Sinks</a></span></dt><dt><span class="section"><a href="#_flow_isolation">4.3.3. Flow Isolation</a></span></dt><dt><span class="section"><a href="#_section_summary_4">4.3.4. Section Summary</a></span></dt></dl></dd><dt><span class="section"><a href="#_multiple_masters">4.4. Multiple Masters</a></span></dt><dd><dl><dt><span class="section"><a href="#_standalone_mode_compared_to_distributed_mode">4.4.1. Standalone Mode Compared to Distributed Mode</a></span></dt><dt><span class="section"><a href="#_running_in_standalone_mode">4.4.2. Running in Standalone Mode</a></span></dt><dt><span class="section"><a href="#_running_in_distributed_mode">4.4.3. Running in Distributed Mode</a></span></dt><dt><span class="section"><a href="#_configuration_stores">4.4.4. Configuration Stores</a></span></dt><dt><span class="section"><a href="#_which_configuration_store_should_i_use">4.4.5. Which Configuration Store Should I Use?</a></span></dt><dt><span class="section"><a href="#_configuring_the_zbcs">4.4.6. Configuring the ZBCS</a></span></dt><dt><span class="section"><a href="#_gossip_in_distributed_mode">4.4.7. Gossip in Distributed Mode</a></span></dt><dt><span class="section"><a href="#_diagrams_how_the_masters_and_nodes_talk_to_each_other">4.4.8. Diagrams: How the Masters and Nodes talk to each other</a></span></dt><dt><span class="section"><a href="#_configuring_flume_nodes_to_connect_to_multiple_master_servers">4.4.9. Configuring Flume Nodes to Connect to Multiple Master Servers</a></span></dt></dl></dd><dt><span class="section"><a href="#_external_zookeeper_cluster">4.5. External ZooKeeper Cluster</a></span></dt><dt><span class="section"><a href="#_section_summary_5">4.6. Section Summary</a></span></dt></dl></dd><dt><span class="section"><a href="#_integrating_flume_with_your_data_sources">5. Integrating Flume with your Data Sources</a></span></dt><dd><dl><dt><span class="section"><a href="#_push_sources">5.1. Push Sources</a></span></dt><dt><span class="section"><a href="#_polling_sources">5.2. Polling Sources</a></span></dt><dt><span class="section"><a href="#_embedding_sources">5.3. Embedding Sources</a></span></dt><dt><span class="section"><a href="#_logging_via_log4j_directly">5.4. Logging via log4j Directly</a></span></dt><dd><dl><dt><span class="section"><a href="#_example_of_logging_hadoop_jobs">5.4.1. Example of Logging Hadoop Jobs</a></span></dt><dt><span class="section"><a href="#_logging_hadoop_daemons">5.4.2. Logging Hadoop Daemons</a></span></dt></dl></dd></dl></dd><dt><span class="section"><a href="#_using_data_collected_by_flume">6. Using Data Collected by Flume</a></span></dt><dd><dl><dt><span class="section"><a href="#_the_data_model_of_a_flume_event">6.1. The Data Model of a Flume Event</a></span></dt><dt><span class="section"><a href="#_output_bucketing">6.2. Output Bucketing</a></span></dt><dt><span class="section"><a href="#_output_format">6.3. Output Format</a></span></dt><dt><span class="section"><a href="#_small_files_compared_to_high_latency">6.4. Small Files Compared to High Latency</a></span></dt></dl></dd><dt><span class="section"><a href="#_compression_for_files_written_to_hdfs">7. Compression for files written to HDFS.</a></span></dt><dt><span class="section"><a href="#_advanced_flume_usage">8. Advanced Flume Usage</a></span></dt><dd><dl><dt><span class="section"><a href="#_the_flume_command_shell">8.1. The Flume Command Shell</a></span></dt><dd><dl><dt><span class="section"><a href="#_using_the_flume_command_shell">8.1.1. Using the Flume Command Shell</a></span></dt></dl></dd><dt><span class="section"><a href="#_flume_8217_s_dataflow_specification_language">8.2. Flume&#8217;s Dataflow Specification Language</a></span></dt><dd><dl><dt><span class="section"><a href="#_special_sinks_fan_out_fail_over_and_roll">8.2.1. Special Sinks: Fan out, Fail over, and Roll</a></span></dt><dt><span class="section"><a href="#_introducing_sink_decorators">8.2.2. Introducing Sink Decorators</a></span></dt><dt><span class="section"><a href="#_translations_of_high_level_sources_and_sinks">8.2.3. Translations of High-level Sources and Sinks</a></span></dt></dl></dd><dt><span class="section"><a href="#_custom_metadata_extraction">8.3. Custom Metadata Extraction</a></span></dt><dd><dl><dt><span class="section"><a href="#_extractors">8.3.1. Extractors</a></span></dt><dt><span class="section"><a href="#_meta_data_filtering_and_transformations">8.3.2. Meta Data Filtering and Transformations</a></span></dt><dt><span class="section"><a href="#_role_defaults">8.3.3. Role Defaults</a></span></dt><dt><span class="section"><a href="#_arbitrary_data_flows_and_custom_architectures">8.3.4. Arbitrary Data Flows and Custom Architectures</a></span></dt></dl></dd><dt><span class="section"><a href="#_extending_via_sink_source_decorator_plugins">8.4. Extending via Sink/Source/Decorator Plugins</a></span></dt><dd><dl><dt><span class="section"><a href="#_semantics_of_flume_extensions">8.4.1. Semantics of Flume Extensions</a></span></dt><dd><dl><dt><span class="section"><a href="#_simple_source_semantics">8.4.1.1. Simple source semantics.</a></span></dt><dt><span class="section"><a href="#_buffered_source_semantics">8.4.1.2. Buffered source semantics</a></span></dt><dt><span class="section"><a href="#_simple_sinks">8.4.1.3. Simple Sinks.</a></span></dt><dt><span class="section"><a href="#_buffered_sink_and_decorator_semantics">8.4.1.4. Buffered sink and decorator semantics</a></span></dt><dt><span class="section"><a href="#_retries_sleeps_and_unclean_exits">8.4.1.5. Retries, sleeps, and unclean exits.</a></span></dt></dl></dd></dl></dd><dt><span class="section"><a href="#_limiting_data_transfer_rate_between_source_sink_pairs">8.5. Limiting Data Transfer Rate between Source-Sink pairs</a></span></dt></dl></dd><dt><span class="section"><a href="#_flume_and_hdfs_security_integration">9. Flume and HDFS Security Integration</a></span></dt><dd><dl><dt><span class="section"><a href="#_basics">9.1. Basics</a></span></dt><dt><span class="section"><a href="#_setting_up_flume_users_on_kerberos">9.2. Setting up Flume users on Kerberos</a></span></dt><dd><dl><dt><span class="section"><a href="#_administering_kerberos_principals">9.2.1. Administering Kerberos principals</a></span></dt></dl></dd></dl></dd><dt><span class="section"><a href="#_appendix">10. Appendix</a></span></dt><dd><dl><dt><span class="section"><a href="#_flume_source_catalog">10.1. Flume Source Catalog</a></span></dt><dt><span class="section"><a href="#_flume_sinks_catalog">10.2. Flume Sinks Catalog</a></span></dt><dt><span class="section"><a href="#_flume_sink_decorator_catalog">10.3. Flume Sink Decorator Catalog</a></span></dt><dt><span class="section"><a href="#_flume_environment_variables">10.4. Flume Environment Variables</a></span></dt><dt><span class="section"><a href="#_flume_site_xml_configuration_settings">10.5. flume-site.xml configuration settings</a></span></dt><dt><span class="section"><a href="#_troubleshooting">10.6. Troubleshooting</a></span></dt><dd><dl><dt><span class="section"><a href="#_what_are_the_default_ports">10.6.1. What are the default ports?</a></span></dt><dt><span class="section"><a href="#_what_versions_of_hadoop_hdfs_can_i_use_how_do_i_change_this">10.6.2. What versions of Hadoop HDFS can I use?  How do I change this?</a></span></dt><dt><span class="section"><a href="#_why_doesn_8217_t_a_flume_node_appear_on_flume_master">10.6.3. Why doesn&#8217;t a Flume node appear on Flume Master?</a></span></dt><dt><span class="section"><a href="#_why_is_the_state_of_a_flume_node_changing_rapidly">10.6.4. Why is the state of a Flume node changing rapidly?</a></span></dt><dt><span class="section"><a href="#_where_are_the_logs_for_troubleshooting_flume_itself">10.6.5. Where are the logs for troubleshooting Flume itself?</a></span></dt><dt><span class="section"><a href="#_what_can_i_do_if_i_get_node_failure_due_to_out_of_file_handles">10.6.6. What can I do if I get node failure due to out of file handles?</a></span></dt><dt><span class="section"><a href="#_failures_due_when_using_disk_failover_or_write_ahead_log">10.6.7. Failures due when using Disk Failover or Write Ahead Log</a></span></dt><dt><span class="section"><a href="#_can_i_write_data_to_amazon_s3">10.6.8. Can I write data to Amazon S3?</a></span></dt></dl></dd></dl></dd><dt><span class="glossary"><a href="#_glossary">Glossary</a></span></dt><dt><span class="section"><a href="#_versions">11. Versions</a></span></dt><dd><dl><dt><span class="section"><a href="#_history">11.1. History</a></span></dt></dl></dd></dl></div><div class="list-of-figures"><p><b>List of Figures</b></p><dl><dt>1. <a href="#id579055">Flume Flows: Single Flow</a></dt><dt>2. <a href="#id579144">Flume Flows: Multiple Flows</a></dt><dt>3. <a href="#id579985">Flume Master: Standalone Mode</a></dt><dt>4. <a href="#id580007">Flume Master: Distributed Mode</a></dt></dl></div><div class="abstract" title="Abstract"><a name="_abstract"></a><p class="title"><b>Abstract</b></p><div class="abstract" title="Abstract"><p class="title"><b>Abstract</b></p><p>Flume is a distributed, reliable, and available service for
 efficiently collecting, aggregating, and moving large amounts of log
 data.  It has a simple and flexible architecture based on streaming
 data flows.  It is robust and fault tolerant with tunable reliability
@@ -488,7 +488,7 @@ Some of these arguments are required; others are optional and use a default.</p>
 <span class="emphasis"><em>req2</em></span>. There are two optional arguments, <span class="emphasis"><em>opt1</em></span> and <span class="emphasis"><em>opt2</em></span>.  However, <span class="emphasis"><em>opt1</em></span>
 <span class="strong"><strong>must</strong></span> be specified if <span class="emphasis"><em>opt2</em></span> is specified.  <span class="emphasis"><em>foo</em></span> in this case is the default
 argument for <span class="emphasis"><em>opt2</em></span>+.</p><p>For the <code class="literal">console</code> examples above, console could be specified as:</p><p><code class="literal">console[(<span class="emphasis"><em>format</em></span>="debug")]</code></p><p>and text could be specified as:</p><p><code class="literal">text("<span class="emphasis"><em>file</em></span>"[, <span class="emphasis"><em>format</em></span>="raw"])</code></p></div><p>There are several sinks you can use. The following list is a subset; see the
-Appendix for more sinks.</p><div class="horizontal"><a name="id352832"></a><p class="title"><b>Table 1. Flume Event Sinks</b></p><div class="horizontal-contents"><table summary="Flume Event Sinks" style="border: none;"><colgroup><col><col></colgroup><tbody valign="top"><tr><td style="" valign="top">
+Appendix for more sinks.</p><div class="horizontal"><a name="id577327"></a><p class="title"><b>Table 1. Flume Event Sinks</b></p><div class="horizontal-contents"><table summary="Flume Event Sinks" style="border: none;"><colgroup><col><col></colgroup><tbody valign="top"><tr><td style="" valign="top">
 <p>
 <code class="literal">null</code>  
 </p>
@@ -794,7 +794,7 @@ command shell by prefixing the command with <span class="emphasis"><em>exec</em>
 don&#8217;t know the particular names of the exact machines.  For now, you can
 specify the configuration of the logical nodes without specifying any physical
 machine names.</p><pre class="screen">agent1 : _source_ | autoBEChain ;
-collector1 : collectorSource | collectorSink("hdfs://....") ;</pre><p>Later you learn that host1 is the name of the agent1 machine and host2 is the
+collector1 : autoCollectorSource | collectorSink("hdfs://....") ;</pre><p>Later you learn that host1 is the name of the agent1 machine and host2 is the
 name of the collector machine.  You can <span class="emphasis"><em>map</em></span> logical nodes onto the
 physical Flume instances on host1 and host2 by issuing the following map
 commands:</p><pre class="screen">map host1 agent1
@@ -810,8 +810,12 @@ logical node, and the mapping between the logical node and physical node.</p><p>
 unmapping a logical node and then mapping it on another physical node.  In
 this scenario, you change the collector1 from being on host2 to host3.</p><pre class="screen">unmap host2 collector1</pre><p>At this point, the logical node mapping is removed, and collector1 is not
 active anywhere. You can then map collector1 onto host3 by using the map
-command:</p><pre class="screen">map host3 collector1</pre><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>There are some limitations that need to be further described in this
-section.</p></td></tr></table></div></div><div class="section" title="4.3.2. Logical Sources and Logical Sinks"><div class="titlepage"><div><div><h4 class="title"><a name="_logical_sources_and_logical_sinks"></a>4.3.2. Logical Sources and Logical Sinks</h4></div></div></div><div class="warning" title="Warning" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Warning"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Warning]" src="images/warning.png"></td><th align="left">Warning</th></tr><tr><td align="left" valign="top"><p>The logical sources and logical sinks feature does not
+command:</p><pre class="screen">map host3 collector1</pre><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td><th align="left">Note</th></tr><tr><td align="left" valign="top"><p>Logical nodes are not templates&#8201;&#8212;&#8201;if you want to have the same
+source/sink pairs on a particular physical node, you need to have a
+logical node for each.  When adminstering many logical nodes it is
+often useful to write a script that generates configurations and
+unique individual logical node names.  Using the part of a host name
+is a common pattern.</p></td></tr></table></div></div><div class="section" title="4.3.2. Logical Sources and Logical Sinks"><div class="titlepage"><div><div><h4 class="title"><a name="_logical_sources_and_logical_sinks"></a>4.3.2. Logical Sources and Logical Sinks</h4></div></div></div><div class="warning" title="Warning" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Warning"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Warning]" src="images/warning.png"></td><th align="left">Warning</th></tr><tr><td align="left" valign="top"><p>The logical sources and logical sinks feature does not
 currently work when using multiple masters.</p></td></tr></table></div><p>In the previous example, we used two abstractions under-the-covers that allow
 the specifications of a graph topology for communications <span class="emphasis"><em>without having to
 use physical hostnames and ports</em></span>. These abstractions&#8201;&#8212;&#8201;the <span class="strong"><strong>logical source</strong></span>
@@ -862,7 +866,7 @@ map host1 barNode1
 map host2 fooNode2
 map host2 barNode2
 map host3 fooConsumer
-map host3 barConsumer</pre><div class="figure"><a name="id354556"></a><p class="title"><b>Figure 1. Flume Flows: Single Flow</b></p><div class="figure-contents"><div class="mediaobject"><img src="single-flow.png" alt="single-flow.png"></div></div></div><br class="figure-break"><p>This setup essentially instantiates the first approach.  It mixes foo and bar
+map host3 barConsumer</pre><div class="figure"><a name="id579055"></a><p class="title"><b>Figure 1. Flume Flows: Single Flow</b></p><div class="figure-contents"><div class="mediaobject"><img src="single-flow.png" alt="single-flow.png"></div></div></div><br class="figure-break"><p>This setup essentially instantiates the first approach.  It mixes foo and bar
 data together since the translation of autoBEChain would see two
 collectorSources that the Master considers to be equivalent.  Foo data will
 likely be sent to the barConsumer and bar data will likely be sent to
@@ -889,7 +893,7 @@ exec config barNode1 flowbar barSrc autoBEChain
 exec config fooNode2 flowfoo fooSrc autoBEChain
 exec config barNode2 flowbar barSrc autoBEChain
 exec config fooConsumer flowfoo autoCollectorSource 'collectorSink("hdfs://nn/foodir")'
-exec config barConsumer flowbar autoCollectorSource 'collectorSink("hdfs://nn/bardir")'</pre><div class="figure"><a name="id354645"></a><p class="title"><b>Figure 2. Flume Flows: Multiple Flows</b></p><div class="figure-contents"><div class="mediaobject"><img src="multi-flow.png" alt="multi-flow.png"></div></div></div><br class="figure-break"><p>By using these commands, the data from fooNode1 and fooNode2 will only
+exec config barConsumer flowbar autoCollectorSource 'collectorSink("hdfs://nn/bardir")'</pre><div class="figure"><a name="id579144"></a><p class="title"><b>Figure 2. Flume Flows: Multiple Flows</b></p><div class="figure-contents"><div class="mediaobject"><img src="multi-flow.png" alt="multi-flow.png"></div></div></div><br class="figure-break"><p>By using these commands, the data from fooNode1 and fooNode2 will only
 be sent to fooConsumer, and barNode1 and barNode2&#8217;s data will only be
 sent to barConsumer.  Data from one node is not mixed with other data
 from other nodes unless explicitly connected.</p><div class="tip" title="Tip" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Tip"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Tip]" src="images/tip.png"></td><th align="left">Tip</th></tr><tr><td align="left" valign="top"><p>In practice it is a good idea to use different node names and
@@ -972,7 +976,7 @@ The Flume Master process communicates with ZooKeeper (either on the same machine
 </dd></dl></div></div><div class="section" title="4.4.7. Gossip in Distributed Mode"><div class="titlepage"><div><div><h4 class="title"><a name="_gossip_in_distributed_mode"></a>4.4.7. Gossip in Distributed Mode</h4></div></div></div><p>Flume Master servers also use a <span class="emphasis"><em>gossip</em></span> protocol to exchange information between themselves. Each server periodically wakes and picks another machine to send new data to. This protocol by default uses TCP port 57890, but this is controlled via the <code class="literal">flume.master.gossipport</code> property:</p><pre class="screen">&lt;property&gt;
 &lt;name&gt;flume.master.gossip.port&lt;/name&gt;
 &lt;value&gt;57890&lt;/value&gt;
-&lt;/property&gt;</pre><p>In standalone mode, there is no need to use gossip, so this port is unused.</p></div><div class="section" title="4.4.8. Diagrams: How the Masters and Nodes talk to each other"><div class="titlepage"><div><div><h4 class="title"><a name="_diagrams_how_the_masters_and_nodes_talk_to_each_other"></a>4.4.8. Diagrams: How the Masters and Nodes talk to each other</h4></div></div></div><div class="figure"><a name="id355489"></a><p class="title"><b>Figure 3. Flume Master: Standalone Mode</b></p><div class="figure-contents"><div class="mediaobject"><img src="master-zk-standalone.png" alt="master-zk-standalone.png"></div></div></div><br class="figure-break"><div class="figure"><a name="id355511"></a><p class="title"><b>Figure 4. Flume Master: Distributed Mode</b></p><div class="figure-contents"><div class="mediaobject"><img src="master-zk-internal.png" alt="master-zk-internal.png"></div></div></div><br class="figure-break"></div><div class="section" title="4.4.9. Configuring Flume Nodes to Connect to Multiple Master Servers"><div class="titlepage"><div><div><h4 class="title"><a name="_configuring_flume_nodes_to_connect_to_multiple_master_servers"></a>4.4.9. Configuring Flume Nodes to Connect to Multiple Master Servers</h4></div></div></div><p>One property needs to be set to configure a Flume Node to connect to multiple Masters: <code class="literal">flume.master.servers</code>.</p><pre class="programlisting">&lt;property&gt;
+&lt;/property&gt;</pre><p>In standalone mode, there is no need to use gossip, so this port is unused.</p></div><div class="section" title="4.4.8. Diagrams: How the Masters and Nodes talk to each other"><div class="titlepage"><div><div><h4 class="title"><a name="_diagrams_how_the_masters_and_nodes_talk_to_each_other"></a>4.4.8. Diagrams: How the Masters and Nodes talk to each other</h4></div></div></div><div class="figure"><a name="id579985"></a><p class="title"><b>Figure 3. Flume Master: Standalone Mode</b></p><div class="figure-contents"><div class="mediaobject"><img src="master-zk-standalone.png" alt="master-zk-standalone.png"></div></div></div><br class="figure-break"><div class="figure"><a name="id580007"></a><p class="title"><b>Figure 4. Flume Master: Distributed Mode</b></p><div class="figure-contents"><div class="mediaobject"><img src="master-zk-internal.png" alt="master-zk-internal.png"></div></div></div><br class="figure-break"></div><div class="section" title="4.4.9. Configuring Flume Nodes to Connect to Multiple Master Servers"><div class="titlepage"><div><div><h4 class="title"><a name="_configuring_flume_nodes_to_connect_to_multiple_master_servers"></a>4.4.9. Configuring Flume Nodes to Connect to Multiple Master Servers</h4></div></div></div><p>One property needs to be set to configure a Flume Node to connect to multiple Masters: <code class="literal">flume.master.servers</code>.</p><pre class="programlisting">&lt;property&gt;
 &lt;name&gt;flume.master.servers&lt;/name&gt;
 &lt;value&gt;masterA,masterB,masterC&lt;/value&gt;
 &lt;/property&gt;</pre><p>The nodes connect over the port <code class="literal">flume.master.heartbeat.port</code> on each machine in the Flume Master - this is the port that the Master servers listen on for node heartbeats.</p><p>If a Master server fails, nodes will automatically fail over to the next randomly selected Master server that they can establish a connection to.</p></div></div><div class="section" title="4.5. External ZooKeeper Cluster"><div class="titlepage"><div><div><h3 class="title"><a name="_external_zookeeper_cluster"></a>4.5. External ZooKeeper Cluster</h3></div></div></div><p>In some cases you may want a ZBCS that relies on an externally managed ZooKeeper service. The most common example of this is where multiple services which rely on ZooKeeper are being used (Flume and Hbase for example). In the following example zkServer{A,B,C}:2181 should be replaced with the hostname/port of the ZooKeeper servers which make up your ensemble.</p><p title="conf/flume-site.xml"><b><code class="literal">conf/flume-site.xml</code>. </b>
@@ -1107,7 +1111,7 @@ Unix time in millis
 </dd></dl></div><p>Because bucketing by date is a frequently-requested feature, there are escape
 sequences for finer control of date values that allow you to bucket data based
 on date.</p><p>Here is another output spec:</p><pre class="screen">collectorSink("hdfs://namenode/flume/webdata/%Y-%m-%d/%H00/", "web-")</pre><p>This would create directories for each day, each with a subdirectory for each
-hour with filenames prefixed "web-".</p><div class="horizontal"><a name="id356240"></a><p class="title"><b>Table 2. Fine grained escape sequences date and times</b></p><div class="horizontal-contents"><table summary="Fine grained escape sequences date and times" style="border: none;"><colgroup><col><col></colgroup><tbody valign="top"><tr><td style="" valign="top">
+hour with filenames prefixed "web-".</p><div class="horizontal"><a name="id580736"></a><p class="title"><b>Table 2. Fine grained escape sequences date and times</b></p><div class="horizontal-contents"><table summary="Fine grained escape sequences date and times" style="border: none;"><colgroup><col><col></colgroup><tbody valign="top"><tr><td style="" valign="top">
 <p>
 %a 
 </p>
@@ -1270,7 +1274,7 @@ year (2010)
 </td></tr></tbody></table></div></div><br class="horizontal-break"></div><div class="section" title="6.3. Output Format"><div class="titlepage"><div><div><h3 class="title"><a name="_output_format"></a>6.3. Output Format</h3></div></div></div><p>Now that you have control of where files go, this section describes how you can
 control the output format of data.  Currently, this is set via the
 <span class="emphasis"><em>flume.collector.output.format</em></span> property set in the flume-site.xml file.  The output
-formats are:</p><div class="horizontal"><a name="id356613"></a><p class="title"><b>Table 3. Output formats</b></p><div class="horizontal-contents"><table summary="Output formats" style="border: none;"><colgroup><col><col></colgroup><tbody valign="top"><tr><td style="" valign="top">
+formats are:</p><div class="horizontal"><a name="id581109"></a><p class="title"><b>Table 3. Output formats</b></p><div class="horizontal-contents"><table summary="Output formats" style="border: none;"><colgroup><col><col></colgroup><tbody valign="top"><tr><td style="" valign="top">
 <p>
 avro 
 </p>
@@ -2379,7 +2383,7 @@ report every <span class="emphasis"><em>periodMillis</em></span> milliseconds an
 attribute names seen from the node report page are present, and the values are
 uninterpreted arrays of bytes.
 </p>
-</td></tr></tbody></table></div></div><div class="section" title="10.2. Flume Sinks Catalog"><div class="titlepage"><div><div><h3 class="title"><a name="_flume_sinks_catalog"></a>10.2. Flume Sinks Catalog</h3></div></div></div><div class="horizontal"><a name="id361569"></a><p class="title"><b>Table 4. Flume&#8217;s Collector Tier Event Sinks</b></p><div class="horizontal-contents"><table summary="Flume&#8217;s Collector Tier Event Sinks" style="border: none;"><colgroup><col><col></colgroup><tbody valign="top"><tr><td style="" valign="top">
+</td></tr></tbody></table></div></div><div class="section" title="10.2. Flume Sinks Catalog"><div class="titlepage"><div><div><h3 class="title"><a name="_flume_sinks_catalog"></a>10.2. Flume Sinks Catalog</h3></div></div></div><div class="horizontal"><a name="id586065"></a><p class="title"><b>Table 4. Flume&#8217;s Collector Tier Event Sinks</b></p><div class="horizontal-contents"><table summary="Flume&#8217;s Collector Tier Event Sinks" style="border: none;"><colgroup><col><col></colgroup><tbody valign="top"><tr><td style="" valign="top">
 <p>
 <code class="literal">collectorSink("<span class="emphasis"><em>fsdir</em></span>","<span class="emphasis"><em>fsfileprefix</em></span>", <span class="emphasis"><em>rollmillis</em></span>)</code> 
 </p>
@@ -2394,7 +2398,7 @@ between when a HDFS file should be rolled (opened and closed).  The format for
 data outputted by collectors is specified by the
 <code class="literal">flume.collector.output.format</code> property.
 </p>
-</td></tr></tbody></table></div></div><br class="horizontal-break"><div class="horizontal"><a name="id361670"></a><p class="title"><b>Table 5. Flume&#8217;s Agent Tier Event Sinks</b></p><div class="horizontal-contents"><table summary="Flume&#8217;s Agent Tier Event Sinks" style="border: none;"><colgroup><col><col></colgroup><tbody valign="top"><tr><td style="" valign="top">
+</td></tr></tbody></table></div></div><br class="horizontal-break"><div class="horizontal"><a name="id586166"></a><p class="title"><b>Table 5. Flume&#8217;s Agent Tier Event Sinks</b></p><div class="horizontal-contents"><table summary="Flume&#8217;s Agent Tier Event Sinks" style="border: none;"><colgroup><col><col></colgroup><tbody valign="top"><tr><td style="" valign="top">
 <p>
 <code class="literal">agentSink[("<span class="emphasis"><em>machine</em></span>"[, <span class="emphasis"><em>port</em></span>])]</code>  
 </p>
@@ -2518,7 +2522,7 @@ populated automatically by the master.
 This sink creates an rpcSink that is
 assigned a host and IP based on the name of a logical node.  This information
 is maintained and automatically selected by the master.
-</dd></dl></div><div class="horizontal"><a name="id362168"></a><p class="title"><b>Table 6. Flume&#8217;s Basic Sinks</b></p><div class="horizontal-contents"><table summary="Flume&#8217;s Basic Sinks" style="border: none;"><colgroup><col><col></colgroup><tbody valign="top"><tr><td style="" valign="top">
+</dd></dl></div><div class="horizontal"><a name="id586664"></a><p class="title"><b>Table 6. Flume&#8217;s Basic Sinks</b></p><div class="horizontal-contents"><table summary="Flume&#8217;s Basic Sinks" style="border: none;"><colgroup><col><col></colgroup><tbody valign="top"><tr><td style="" valign="top">
 <p>
 <code class="literal">null</code> 
 </p>
@@ -2624,7 +2628,7 @@ sink.  Each event is sent to the channel as a line.  It attempts to connect to
 <code class="literal"><span class="emphasis"><em>server</em></span></code> on TCP port <code class="literal"><span class="emphasis"><em>port</em></span></code>.  When it connects it attempts to take the
 nickname <code class="literal"><span class="emphasis"><em>nick</em></span></code>, and enter channel <code class="literal"><span class="emphasis"><em>chan</em></span></code> (like <code class="literal">#hadoop</code>).
 </p>
-</td></tr></tbody></table></div></div><br class="horizontal-break"></div><div class="section" title="10.3. Flume Sink Decorator Catalog"><div class="titlepage"><div><div><h3 class="title"><a name="_flume_sink_decorator_catalog"></a>10.3. Flume Sink Decorator Catalog</h3></div></div></div><div class="horizontal"><a name="id362604"></a><p class="title"><b>Table 7. Flume&#8217;s Sink Decorators</b></p><div class="horizontal-contents"><table summary="Flume&#8217;s Sink Decorators" style="border: none;"><colgroup><col><col></colgroup><tbody valign="top"><tr><td style="" valign="top">
+</td></tr></tbody></table></div></div><br class="horizontal-break"></div><div class="section" title="10.3. Flume Sink Decorator Catalog"><div class="titlepage"><div><div><h3 class="title"><a name="_flume_sink_decorator_catalog"></a>10.3. Flume Sink Decorator Catalog</h3></div></div></div><div class="horizontal"><a name="id587100"></a><p class="title"><b>Table 7. Flume&#8217;s Sink Decorators</b></p><div class="horizontal-contents"><table summary="Flume&#8217;s Sink Decorators" style="border: none;"><colgroup><col><col></colgroup><tbody valign="top"><tr><td style="" valign="top">
 <p>
 <code class="literal">nullDeco</code> 
 </p>
@@ -3015,6 +3019,18 @@ out the command line being executed.
 If this is toggled along with FLUME_VERBOSE,
 the "-verbose" flag will be passed to the JVM running flume.
 </p>
+</td></tr><tr><td style="" valign="top">
+<p>
+<code class="literal">LD_LIBRARY_PATH</code> 
+</p>
+</td><td style="" valign="top">
+<p>
+Populate with a : separated list of file paths to
+extend the java.library.path aspect of Flume. This allows you to include
+native libraries in the java lookup path. Example usage would be with Lzo
+where you need to extend the path with the Lzo C libraries contained in your
+Hadoop install.
+</p>
 </td></tr></tbody></table></div></div><div class="section" title="10.5. flume-site.xml configuration settings"><div class="titlepage"><div><div><h3 class="title"><a name="_flume_site_xml_configuration_settings"></a>10.5. flume-site.xml configuration settings</h3></div></div></div></div><div class="section" title="10.6. Troubleshooting"><div class="titlepage"><div><div><h3 class="title"><a name="_troubleshooting"></a>10.6. Troubleshooting</h3></div></div></div><div class="toc"><dl><dt><span class="section"><a href="#_what_are_the_default_ports">10.6.1. What are the default ports?</a></span></dt><dt><span class="section"><a href="#_what_versions_of_hadoop_hdfs_can_i_use_how_do_i_change_this">10.6.2. What versions of Hadoop HDFS can I use?  How do I change this?</a></span></dt><dt><span class="section"><a href="#_why_doesn_8217_t_a_flume_node_appear_on_flume_master">10.6.3. Why doesn&#8217;t a Flume node appear on Flume Master?</a></span></dt><dt><span class="section"><a href="#_why_is_the_state_of_a_flume_node_changing_rapidly">10.6.4. Why is the state of a Flume node changing rapidly?</a></span></dt><dt><span class="section"><a href="#_where_are_the_logs_for_troubleshooting_flume_itself">10.6.5. Where are the logs for troubleshooting Flume itself?</a></span></dt><dt><span class="section"><a href="#_what_can_i_do_if_i_get_node_failure_due_to_out_of_file_handles">10.6.6. What can I do if I get node failure due to out of file handles?</a></span></dt><dt><span class="section"><a href="#_failures_due_when_using_disk_failover_or_write_ahead_log">10.6.7. Failures due when using Disk Failover or Write Ahead Log</a></span></dt><dt><span class="section"><a href="#_can_i_write_data_to_amazon_s3">10.6.8. Can I write data to Amazon S3?</a></span></dt></dl></div><div class="section" title="10.6.1. What are the default ports?"><div class="titlepage"><div><div><h4 class="title"><a name="_what_are_the_default_ports"></a>10.6.1. What are the default ports?</h4></div></div></div><p>TCP ports are used in all situations.</p><div class="informaltable"><table style="border-collapse: collapse;border-top: 0.5pt solid ; border-bottom: 0.5pt solid ; border-left: 0.5pt solid ; border-right: 0.5pt solid ; " width="40%"><colgroup><col><col><col></colgroup><tbody><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " align="left" valign="top"><p>node collector port</p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " align="left" valign="top"><p><code class="literal">flume.collector.port</code></p></td><td style="border-bottom: 0.5pt solid ; " align="left" valign="top"><p>35853+</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " align="left" valign="top"><p>node status web server</p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " align="left" valign="top"><p><code class="literal">flume.node.http.port</code></p></td><td style="border-bottom: 0.5pt solid ; " align="left" valign="top"><p>35862+</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " align="left" valign="top"><p>master status web server</p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " align="left" valign="top"><p><code class="literal">flume.master.http.port</code></p></td><td style="border-bottom: 0.5pt solid ; " align="left" valign="top"><p>35871</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " align="left" valign="top"><p>master heartbeat port</p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " align="left" valign="top"><p><code class="literal">flume.master.heartbeat.port</code></p></td><td style="border-bottom: 0.5pt solid ; " align="left" valign="top"><p>35872</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " align="left" valign="top"><p>master admin/shell port</p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " align="left" valign="top"><p><code class="literal">flume.master.admin.port</code></p></td><td style="border-bottom: 0.5pt solid ; " align="left" valign="top"><p>35873</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " align="left" valign="top"><p>master gossip port</p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " align="left" valign="top"><p><code class="literal">flume.master.gossip.port</code></p></td><td style="border-bottom: 0.5pt solid ; " align="left" valign="top"><p>57890</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " align="left" valign="top"><p>master report port</p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " align="left" valign="top"><p><code class="literal">flume.report.server.port</code></p></td><td style="border-bottom: 0.5pt solid ; " align="left" valign="top"><p>45678</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " align="left" valign="top"><p>master &#8594; zk port</p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " align="left" valign="top"><p><code class="literal">flume.master.zk.client.port</code></p></td><td style="border-bottom: 0.5pt solid ; " align="left" valign="top"><p>3181</p></td></tr><tr><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " align="left" valign="top"><p>zk &#8594; zk quorum port</p></td><td style="border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; " align="left" valign="top"><p><code class="literal">flume.master.zk.server.quorum.port</code></p></td><td style="border-bottom: 0.5pt solid ; " align="left" valign="top"><p>3182</p></td></tr><tr><td style="border-right: 0.5pt solid ; " align="left" valign="top"><p>zk &#8594; zk election port</p></td><td style="border-right: 0.5pt solid ; " align="left" valign="top"><p><code class="literal">flume.master.zk.server.election.port</code></p></td><td style="" align="left" valign="top"><p>3183</p></td></tr></tbody></table></div><p>When using auto chains for collectors, each collector source will
 automatically search for a free port by incrementing starting from
 port <code class="literal">flume.collector.port</code> and incrementing the port number.</p><p>When there is more than one physical node on a machine, the node
diff --git a/docs/Windows/index.html b/docs/Windows/index.html
index 348ac61..fcb57ce 100644
--- a/docs/Windows/index.html
+++ b/docs/Windows/index.html
@@ -1,4 +1,4 @@
-<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Flume Windows Guide</title><link rel="stylesheet" href="docbook.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"></head><body><div style="clear:both; margin-bottom: 4px"></div><div align="center"><a href="index.html"><img src="images/home.png" alt="Documentation Home"></a></div><span class="breadcrumbs"><div class="breadcrumbs"><span class="breadcrumb-node">Flume Windows Guide</span></div></span><div lang="en" class="article" title="Flume Windows Guide"><div class="titlepage"><div><div><h2 class="title"><a name="id303694"></a>Flume Windows Guide</h2></div><div><div class="author"><h3 class="author"><span class="firstname">flume-dev@cloudera.org</span></h3></div></div><div><div class="revhistory"><table border="1" width="100%" summary="Revision history"><tr><th align="left" valign="top" colspan="3"><b>Revision History</b></th></tr><tr><td align="left">Revision 0.9.3</td><td align="left">February 4 2011</td><td align="left">F</td></tr></table></div></div></div><hr></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="#_flume_on_microsoft_windows_based_machines">1. Flume on Microsoft Windows-based Machines</a></span></dt><dd><dl><dt><span class="section"><a href="#_installation">1.1. Installation</a></span></dt><dt><span class="section"><a href="#_administering_windows_flume_nodes">1.2. Administering Windows Flume Nodes</a></span></dt><dt><span class="section"><a href="#_default_directories">1.3. Default Directories.</a></span></dt><dt><span class="section"><a href="#_building_flume_for_windows">1.4. Building Flume for Windows</a></span></dt></dl></dd></dl></div><div class="section" title="1. Flume on Microsoft Windows-based Machines"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_flume_on_microsoft_windows_based_machines"></a>1. Flume on Microsoft Windows-based Machines</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="#_installation">1.1. Installation</a></span></dt><dt><span class="section"><a href="#_administering_windows_flume_nodes">1.2. Administering Windows Flume Nodes</a></span></dt><dt><span class="section"><a href="#_default_directories">1.3. Default Directories.</a></span></dt><dt><span class="section"><a href="#_building_flume_for_windows">1.4. Building Flume for Windows</a></span></dt></dl></div><p><span class="inlinemediaobject"><img src="flume-logo.png" alt="flume-logo.png"></span></p><p>Flume v0.9.3 is the first version of Flume to support Windows-based
+<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Installing Flume Nodes on Windows</title><link rel="stylesheet" href="docbook.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"></head><body><div style="clear:both; margin-bottom: 4px"></div><div align="center"><a href="index.html"><img src="images/home.png" alt="Documentation Home"></a></div><span class="breadcrumbs"><div class="breadcrumbs"><span class="breadcrumb-node">Installing Flume Nodes on Windows</span></div></span><div lang="en" class="article" title="Installing Flume Nodes on Windows"><div class="titlepage"><div><div><h2 class="title"><a name="id303454"></a>Installing Flume Nodes on Windows</h2></div><div><div class="author"><h3 class="author"><span class="firstname">flume-dev@cloudera.org</span></h3></div></div><div><div class="revhistory"><table border="1" width="100%" summary="Revision history"><tr><th align="left" valign="top" colspan="3"><b>Revision History</b></th></tr><tr><td align="left">Revision 0.9.3</td><td align="left">March 11 2011</td><td align="left">F</td></tr></table></div></div></div><hr></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="#_flume_on_microsoft_windows_based_machines">1. Flume on Microsoft Windows-based Machines</a></span></dt><dd><dl><dt><span class="section"><a href="#_installation">1.1. Installation</a></span></dt><dt><span class="section"><a href="#_administering_windows_flume_nodes">1.2. Administering Windows Flume Nodes</a></span></dt><dt><span class="section"><a href="#_default_directories">1.3. Default Directories.</a></span></dt><dt><span class="section"><a href="#_building_flume_for_windows">1.4. Building Flume for Windows</a></span></dt></dl></dd></dl></div><div class="section" title="1. Flume on Microsoft Windows-based Machines"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_flume_on_microsoft_windows_based_machines"></a>1. Flume on Microsoft Windows-based Machines</h2></div></div></div><div class="toc"><dl><dt><span class="section"><a href="#_installation">1.1. Installation</a></span></dt><dt><span class="section"><a href="#_administering_windows_flume_nodes">1.2. Administering Windows Flume Nodes</a></span></dt><dt><span class="section"><a href="#_default_directories">1.3. Default Directories.</a></span></dt><dt><span class="section"><a href="#_building_flume_for_windows">1.4. Building Flume for Windows</a></span></dt></dl></div><p><span class="inlinemediaobject"><img src="flume-logo.png" alt="flume-logo.png"></span></p><p>Flume v0.9.3 is the first version of Flume to support Windows-based
 Flume nodes.  It has been tested on Window Server 2003 SP2 and Windows
 XP SP3 machines and can be used to collect logs generated from Windows
 applications such as Microsoft IIS.</p><p>Requirements:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
-- 
1.7.0.4

